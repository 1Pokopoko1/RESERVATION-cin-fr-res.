<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ciné-Frère | Réservation - A Christmas Tale</title>
    <!-- Chargement de Tailwind CSS pour le style rapide et pro -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chargement de FontAwesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Styles personnalisés pour l'ambiance cinéma */
        body {
            background-color: #0f172a; /* Bleu nuit très sombre */
            color: #e2e8f0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .gold-text {
            color: #fbbf24;
        }
        .seat {
            height: 20px;
            width: 20px;
            background-color: #334155;
            border-radius: 4px 4px 0 0;
            margin: 2px;
        }
        .seat.selected {
            background-color: #fbbf24;
            box-shadow: 0 0 10px #fbbf24;
        }
        .ticket-cut {
            border-bottom: 2px dashed #94a3b8;
        }
        /* Animation d'apparition */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Barre de navigation -->
    <nav class="bg-slate-900 border-b border-slate-800 p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-film gold-text text-2xl"></i>
                <h1 class="text-2xl font-bold tracking-wider">CINÉ-<span class="gold-text">FRÈRE</span></h1>
            </div>
            <div class="hidden md:flex gap-6 text-sm font-medium text-slate-400">
                <a href="#" class="hover:text-white transition">FILMS</a>
                <a href="#" class="hover:text-white transition">CINÉMAS</a>
                <a href="#" class="hover:text-white transition">OFFRES</a>
                <a href="#" class="text-white border-b-2 border-yellow-400">RÉSERVER</a>
            </div>
            <div class="md:hidden">
                <i class="fa-solid fa-bars text-xl"></i>
            </div>
        </div>
    </nav>

    <!-- SECTION 1: Page de Réservation -->
    <main id="booking-section" class="flex-grow container mx-auto p-4 md:p-8 fade-in">
        
        <!-- ALERTE RETARD (Nouveau) -->
        <div class="max-w-5xl mx-auto mb-6 bg-red-500/10 border border-red-500 rounded-lg p-4 flex items-start gap-4 animate-pulse">
            <div class="bg-red-500 text-white rounded-full p-2 mt-1">
                <i class="fa-solid fa-sleigh"></i>
            </div>
            <div>
                <h3 class="text-red-400 font-bold text-lg">⚠️ Horaire décalé à 20h30</h3>
                <p class="text-red-200 text-sm">Le véhicule de la compagnie s'est heurté au traîneau du Père Noël (c'est des choses qui arrivent). Merci de votre compréhension.</p>
            </div>
        </div>

        <div class="max-w-5xl mx-auto bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row">
            
            <!-- Colonne Gauche : Info Film -->
            <div class="md:w-1/3 relative">
                <!-- Image placeholder cinématique -->
                <div class="h-64 md:h-full w-full bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1543536448-d209d2d159d4?q=80&w=1000&auto=format&fit=crop');">
                    <div class="absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent md:bg-gradient-to-r"></div>
                </div>
                <div class="absolute bottom-4 left-4 right-4 text-white">
                    <span class="bg-yellow-500 text-black text-xs font-bold px-2 py-1 rounded mb-2 inline-block">EXCLUSIVITÉ</span>
                    <h2 class="text-3xl font-bold mb-1">A Christmas Tale</h2>
                    <p class="text-slate-300 text-sm mb-2">Une production <span class="text-yellow-400">Frère Production</span></p>
                    <div class="flex items-center gap-2 text-xs text-slate-400">
                        <span><i class="fa-regular fa-clock"></i> 10 min</span>
                        <span>|</span>
                        <span>Comédie, Famille</span>
                    </div>
                </div>
            </div>

            <!-- Colonne Droite : Formulaire -->
            <div class="md:w-2/3 p-6 md:p-10 flex flex-col justify-between">
                <div>
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h3 class="text-xl font-semibold">Sélectionnez votre place</h3>
                            <p class="text-slate-400 text-sm">Salon de la maison de cusy • Grand Écran 4K</p>
                        </div>
                        <div class="text-right">
                            <p class="text-2xl font-bold text-yellow-500">24 DÉC</p>
                            <!-- Modification Heure -->
                            <p class="text-sm font-medium text-red-400 line-through decoration-red-500">19:00</p>
                            <p class="text-xl font-bold text-white">20:30</p>
                        </div>
                    </div>

                    <!-- Visualisation fictive des sièges -->
                    <div class="mb-8 p-4 bg-slate-900 rounded-lg text-center">
                        <div class="w-full h-1 bg-slate-600 mb-4 rounded mx-auto w-3/4 shadow-[0_0_15px_rgba(255,255,255,0.2)]"></div>
                        <p class="text-xs text-slate-500 mb-2">ÉCRAN</p>
                        <div class="flex justify-center gap-1 flex-wrap max-w-xs mx-auto opacity-50">
                            <!-- Génération de faux sièges pour le look -->
                            <div class="seat"></div>
                            <div class="seat selected"></div>
                            <div class="seat"></div>
                            <div class="seat"></div>
                            <div class="seat"></div>
                        </div>
                        <p class="text-xs text-yellow-500 mt-2"><i class="fa-solid fa-circle-info"></i> Seulement 1 place disponible</p>
                    </div>

                    <!-- Formulaire -->
                    <form id="reservationForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-400 mb-1">Nom complet</label>
                                <input type="text" id="userName" required placeholder="Jean Dupont" class="w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 focus:outline-none focus:border-yellow-500 text-white transition">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-400 mb-1">Téléphone</label>
                                <input type="tel" id="userPhone" required placeholder="06 12 34 56 78" class="w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 focus:outline-none focus:border-yellow-500 text-white transition">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-400 mb-1">Nombre de billets</label>
                            <!-- Modification Select : Limité à 1 -->
                            <select id="ticketCount" class="w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 focus:outline-none focus:border-yellow-500 text-white cursor-not-allowed" disabled>
                                <option value="1" selected>1 Personne (Place unique)</option>
                            </select>
                            <p class="text-xs text-red-400 mt-1">* Limitation exceptionnelle due à l'accident de traîneau.</p>
                        </div>
                    </form>
                </div>

                <!-- Footer du formulaire (Prix et Bouton) -->
                <div class="mt-8 border-t border-slate-700 pt-6">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <p class="text-sm text-slate-400">Total à payer</p>
                            <div class="flex items-center gap-2">
                                <!-- Prix ajusté pour 1 personne -->
                                <span class="text-lg text-slate-500 line-through font-medium" id="displayPrice">10,00 €</span>
                                <span class="bg-green-500/20 text-green-400 text-xs px-2 py-0.5 rounded border border-green-500/30">-100% OFFRE DE NOËL</span>
                            </div>
                        </div>
                        <div class="text-3xl font-bold text-white">0,00 €</div>
                    </div>
                    
                    <button type="submit" form="reservationForm" class="w-full bg-yellow-500 hover:bg-yellow-400 text-slate-900 font-bold py-3 px-6 rounded-lg transition transform active:scale-95 flex justify-center items-center gap-2 shadow-lg shadow-yellow-500/20">
                        <span>CONFIRMER LA RÉSERVATION</span>
                        <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p class="text-center text-xs text-slate-500 mt-3"><i class="fa-solid fa-lock"></i> Paiement sécurisé (Aucune carte requise)</p>
                </div>
            </div>
        </div>
    </main>

    <!-- SECTION 2: Page de Confirmation (Cachée par défaut) -->
    <section id="confirmation-section" class="hidden flex-grow container mx-auto p-4 flex items-center justify-center fade-in">
        <div class="bg-slate-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden relative border-t-4 border-yellow-500">
            <!-- Confettis de fond (CSS simple) -->
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none opacity-20">
                <div class="absolute top-10 left-10 text-4xl text-yellow-500 transform rotate-12">✨</div>
                <div class="absolute bottom-10 right-10 text-4xl text-yellow-500 transform -rotate-12">✨</div>
            </div>

            <div class="p-8 text-center">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-green-500/40">
                    <i class="fa-solid fa-check text-2xl text-white"></i>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Réservation Confirmée !</h2>
                <p class="text-slate-400 text-sm mb-6">Préparez votre popcorn, <span id="conf-name" class="text-white font-semibold"></span>.</p>

                <!-- Le Billet -->
                <div class="bg-white text-slate-900 rounded-lg p-0 overflow-hidden shadow-inner text-left relative">
                    <!-- Tête du billet -->
                    <div class="bg-slate-900 text-white p-4 flex justify-between items-center">
                        <span class="font-bold tracking-wider text-sm">CINÉ-FRÈRE</span>
                        <span class="text-yellow-500 text-xs font-bold">BILLET ÉLECTRONIQUE</span>
                    </div>
                    
                    <!-- Corps du billet -->
                    <div class="p-5">
                        <h3 class="text-xl font-bold mb-1">A Christmas Tale</h3>
                        <p class="text-xs text-slate-500 mb-4">Frère Production</p>
                        
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <p class="text-[10px] uppercase text-slate-500 font-bold">DATE</p>
                                <p class="font-bold text-lg">24 DÉC</p>
                            </div>
                            <div>
                                <p class="text-[10px] uppercase text-slate-500 font-bold">HEURE</p>
                                <!-- Modification Heure Ticket -->
                                <p class="font-bold text-lg text-red-600">20:30 <span class="text-[10px] font-normal text-slate-400">(Retard)</span></p>
                            </div>
                            <div>
                                <p class="text-[10px] uppercase text-slate-500 font-bold">LIEU</p>
                                <p class="font-bold text-xs mt-1">Salon Cusy</p>
                            </div>
                            <div>
                                <p class="text-[10px] uppercase text-slate-500 font-bold">PLACES</p>
                                <p class="font-bold" id="conf-tickets">1</p>
                            </div>
                        </div>

                        <!-- Ligne pointillée -->
                        <div class="border-t-2 border-dashed border-slate-300 my-4 -mx-5 px-5 relative">
                            <div class="absolute -left-2 -top-2 w-4 h-4 bg-slate-800 rounded-full"></div>
                            <div class="absolute -right-2 -top-2 w-4 h-4 bg-slate-800 rounded-full"></div>
                        </div>

                        <!-- QR Code simulé -->
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-[10px] uppercase text-slate-500 font-bold">CLIENT</p>
                                <p class="font-bold text-sm truncate max-w-[120px]" id="conf-phone">06...</p>
                            </div>
                            <!-- Faux QR Code (image générique) -->
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=CineFrere-Ticket-XMAS-DELAYED" alt="QR Code" class="w-16 h-16 opacity-90">
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-900 p-4 text-center border-t border-slate-700">
                <p class="text-slate-400 text-sm font-medium">
                    <i class="fa-solid fa-camera mr-2"></i>Faites une capture d'écran pour sauvegarder
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-950 border-t border-slate-900 py-6 mt-auto">
        <div class="container mx-auto text-center text-slate-600 text-sm">
            <p class="mb-2">&copy; 2024 Ciné-Frère. Tous droits réservés.</p>
            <div class="flex justify-center gap-4">
                <a href="#" class="hover:text-slate-400">Mentions Légales</a>
                <a href="#" class="hover:text-slate-400">CGV</a>
                <a href="#" class="hover:text-slate-400">Politique de confidentialité</a>
            </div>
        </div>
    </footer>

    <!-- Logique JavaScript -->
    <script>
        // Sélection des éléments DOM
        const form = document.getElementById('reservationForm');
        const bookingSection = document.getElementById('booking-section');
        const confirmationSection = document.getElementById('confirmation-section');
        
        // Gestion de la soumission
        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Empêche le rechargement de la page

            // Récupération des données
            const name = document.getElementById('userName').value;
            const phone = document.getElementById('userPhone').value;
            // Force la valeur à 1 car le select est désactivé
            const tickets = "1"; 

            // Injection des données dans le billet
            document.getElementById('conf-name').textContent = name;
            document.getElementById('conf-phone').textContent = phone;
            document.getElementById('conf-tickets').textContent = tickets;

            // Transition "Vite fait mais Pro"
            bookingSection.classList.add('hidden'); // On cache le formulaire
            confirmationSection.classList.remove('hidden'); // On montre la confirmation
            
            // Scroll en haut pour mobile
            window.scrollTo(0,0);
        });
    </script>
</body>
</html>
